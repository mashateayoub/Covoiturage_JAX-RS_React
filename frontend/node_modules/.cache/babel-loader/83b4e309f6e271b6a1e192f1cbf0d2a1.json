{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MASHATE\\\\Desktop\\\\JS\\\\React\\\\frontend\\\\src\\\\pages\\\\Driver\\\\CheckLogin.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class AccountDriverPage extends React.Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      this.postUser();\n    };\n\n    this.postUser = async () => {\n      const res = await axios({\n        method: \"GET\",\n        url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/users/\" + this.state.login,\n        headers: {\n          \"Content-Type\": \"Application/json\"\n        }\n      });\n\n      if (res.status === 200 && res.data.con !== 0) {\n        localStorage.setItem(\"id_con\", res.data.con);\n        this.setState({\n          driver: res.data,\n          is_logged: true\n        });\n      } else {\n        this.setState({\n          is_logged: false\n        });\n      }\n    };\n\n    this.state = {\n      \"login\": localStorage.getItem(\"userID\").split('@')[1],\n      \"password\": localStorage.getItem(\"userID\").split('@')[2],\n      \"driver\": {},\n      \"is_logged\": false\n    };\n  }\n\n  render() {\n    if (this.state.is_logged) return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col justify-center text-center place-items-center h-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-3xl font-semibold font-serif \",\n        children: \"Logged in successfully \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 133\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/driver\",\n        className: \"mt-4 rounded text-semibold hover:drop-shadow-lg hover:shadow-cyan-500 px-4 py-2 bg-cyan-500 text-white\",\n        children: \"Access Driver's Platforme\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 211\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 47\n    }, this);else return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col justify-center text-center place-items-center h-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl text-red-600 font-semibold font-serif \",\n        children: \"Error in Logging to your driver account, try again please !\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 111\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/drive\",\n        className: \"mt-4 rounded text-semibold hover:drop-shadow-lg hover:shadow-red-500 px-4 py-2 bg-red-500 text-white\",\n        children: \"Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 236\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/MASHATE/Desktop/JS/React/frontend/src/pages/Driver/CheckLogin.js"],"names":["React","Link","axios","AccountDriverPage","Component","constructor","componentDidMount","postUser","res","method","url","state","login","headers","status","data","con","localStorage","setItem","setState","driver","is_logged","getItem","split","render"],"mappings":";AAAA,OAAOA,KAAP,MAAmB,OAAnB;AACA,SAAUC,IAAV,QAAsB,kBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,eAAe,MAAMC,iBAAN,SAAgCH,KAAK,CAACI,SAAtC,CAAgD;AAE3DC,EAAAA,WAAW,GAAE;AACX;;AADW,SAWXC,iBAXW,GAWS,MAAM;AAExB,WAAKC,QAAL;AAED,KAfU;;AAAA,SAiBbA,QAjBa,GAiBF,YAAY;AACrB,YAAMC,GAAG,GAAE,MAAMN,KAAK,CAAC;AACrBO,QAAAA,MAAM,EAAE,KADa;AAErBC,QAAAA,GAAG,EAAE,oDAAkD,KAAKC,KAAL,CAAWC,KAF7C;AAGrBC,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB;AAHY,OAAD,CAAtB;;AAKA,UAAGL,GAAG,CAACM,MAAJ,KAAa,GAAb,IAAoBN,GAAG,CAACO,IAAJ,CAASC,GAAT,KAAiB,CAAxC,EAA0C;AACxCC,QAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BV,GAAG,CAACO,IAAJ,CAASC,GAAxC;AACA,aAAKG,QAAL,CAAc;AACdC,UAAAA,MAAM,EAAEZ,GAAG,CAACO,IADE;AAEdM,UAAAA,SAAS,EAAE;AAFG,SAAd;AAGC,OALH,MAMI;AACF,aAAKF,QAAL,CAAc;AACZE,UAAAA,SAAS,EAAE;AADC,SAAd;AAGC;AACJ,KAlCY;;AAEX,SAAKV,KAAL,GAAW;AACT,eAAQM,YAAY,CAACK,OAAb,CAAqB,QAArB,EAA+BC,KAA/B,CAAqC,GAArC,EAA0C,CAA1C,CADC;AAET,kBAAYN,YAAY,CAACK,OAAb,CAAqB,QAArB,EAA+BC,KAA/B,CAAqC,GAArC,EAA0C,CAA1C,CAFH;AAGT,gBAAS,EAHA;AAIT,mBAAY;AAJH,KAAX;AAMD;;AA6BDC,EAAAA,MAAM,GAAE;AAEA,QAAG,KAAKb,KAAL,CAAWU,SAAd,EAA0B,oBAAQ;AAAK,MAAA,SAAS,EAAC,sEAAf;AAAA,8BAAsF;AAAG,QAAA,SAAS,EAAC,oCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAtF,oBAAoK,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,SAAT;AAAmB,QAAA,SAAS,EAAC,wGAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAApK;AAAA;AAAA;AAAA;AAAA;AAAA,YAAR,CAA1B,KACK,oBAAO;AAAK,MAAA,SAAS,EAAC,sEAAf;AAAA,8BAAsF;AAAG,QAAA,SAAS,EAAC,gDAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAtF,eAAmN,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,QAAT;AAAkB,QAAA,SAAS,EAAC,sGAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAnN;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAGZ;;AA7C0D","sourcesContent":["import React  from 'react'\r\nimport {  Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nexport default class AccountDriverPage extends React.Component {\r\n\r\n    constructor(){\r\n      super()\r\n      this.state={\r\n        \"login\":localStorage.getItem(\"userID\").split('@')[1],\r\n        \"password\": localStorage.getItem(\"userID\").split('@')[2],\r\n        \"driver\":{},\r\n        \"is_logged\":false\r\n      }\r\n    }\r\n\r\n\r\n      componentDidMount = () => {\r\n\r\n        this.postUser()\r\n        \r\n      }\r\n\r\n    postUser = async () => {\r\n      const res= await axios({\r\n        method: \"GET\",\r\n        url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/users/\"+this.state.login,\r\n        headers: { \"Content-Type\": \"Application/json\"},\r\n    })\r\n      if(res.status===200 && res.data.con !== 0){\r\n        localStorage.setItem(\"id_con\", res.data.con )\r\n        this.setState({\r\n        driver: res.data,\r\n        is_logged: true\r\n      })}\r\n      else{\r\n        this.setState({\r\n          is_logged: false\r\n        })\r\n        }\r\n    }\r\n\r\n    \r\n    render(){\r\n        \r\n            if(this.state.is_logged ) return (<div className='flex flex-col justify-center text-center place-items-center h-screen'><p className='text-3xl font-semibold font-serif '>Logged in successfully </p> <Link to=\"/driver\" className='mt-4 rounded text-semibold hover:drop-shadow-lg hover:shadow-cyan-500 px-4 py-2 bg-cyan-500 text-white'>Access Driver's Platforme</Link></div> );\r\n            else return(<div className='flex flex-col justify-center text-center place-items-center h-screen'><p className='text-xl text-red-600 font-semibold font-serif '>Error in Logging to your driver account, try again please !</p><Link to=\"/drive\" className='mt-4 rounded text-semibold hover:drop-shadow-lg hover:shadow-red-500 px-4 py-2 bg-red-500 text-white'>Go Back</Link></div>);\r\n            \r\n       \r\n    }\r\n    \r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}