{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MASHATE\\\\Desktop\\\\JS\\\\React\\\\frontend\\\\src\\\\pages\\\\Driver\\\\UpdateOffer.js\";\nimport React from 'react';\nimport Header from '../../Partials/Driver/Header';\nimport axios from 'axios';\nimport Select from 'react-select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class UpdateOffer extends React.Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      console.log(\"khdem mal rassek 9asse7\");\n      this.fetchOffer();\n    };\n\n    this.fetchOffer = () => {\n      axios({\n        method: \"GET\",\n        url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/annonces/\" + this.state.id,\n        headers: {\n          \"Content-Type\": \"Application/json\"\n        }\n      }).then(res => {\n        if (res.status === 200) {\n          this.stateD = res.data;\n          this.setState({\n            offer: res.data,\n            depart: res.data.ville_depart,\n            dest: res.data.ville_arrivee,\n            date: res.data.date_depart\n          });\n        }\n      });\n    };\n\n    this.handleUpdate = async () => {\n      const res = await axios({\n        method: \"PUT\",\n        url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/annonces?mili=\",\n        data: {},\n        headers: {\n          \"Content-Type\": \"Application/json\"\n        }\n      });\n\n      if (res.status === 200) {\n        this.setState({\n          is_deleted: true\n        });\n      }\n    };\n\n    this.handleCityDepartChange = event => {\n      this.setState({\n        depart: event.value\n      });\n    };\n\n    this.handleCityDestChange = event => {\n      this.setState({\n        dest: event.value\n      });\n    };\n\n    this.handleCityDateChange = event => {\n      this.setState({\n        date: event.value\n      });\n    };\n\n    this.state = {\n      data: require(\"../../Data/cities.json\"),\n      id: new URLSearchParams(window.location.search).get('id'),\n      offer: {},\n      depart: \"\",\n      dest: \" \",\n      date: \" \",\n      is_updated: false\n    };\n  }\n\n  render() {\n    this.state.data.cities.sort((a, b) => {\n      let fa = a.value.toLowerCase(),\n          fb = b.value.toLowerCase();\n\n      if (fa < fb) {\n        return -1;\n      }\n\n      if (fa > fb) {\n        return 1;\n      }\n\n      return 0;\n    });\n    console.log(new Date(this.state.date).toISOString());\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-full\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"bg-white shadow\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-900\",\n            children: \"Update Offer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col min-h-screen overflow-hidden container mx-auto px-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center py-1 items-center text-center\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"flex-grow\",\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"bg-white\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mx-auto px-4 sm:px-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pt-8 pb-8 md:pt-4 md:pb-15 px-24\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pt-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"form\", {\n                    className: \"grid grid-cols-1 sm:grid-cols-4 gap-6\",\n                    action: \"#\",\n                    method: \"GET\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"relative z-0 mb-6  w-full group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"countries\",\n                        class: \"block mb-2 text-sm font-medium  dark:text-gray-400\",\n                        children: \"Start\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 17\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        options: this.state.data.cities,\n                        name: \"depart\",\n                        className: \"text-semibold text-cyan-800\",\n                        value: {\n                          label: this.state.depart,\n                          value: this.state.depart\n                        },\n                        onChange: this.handleCityDepartChange,\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 137,\n                        columnNumber: 17\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"relative z-0 mb-6 w-full group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"countries\",\n                        class: \"block mb-2 text-sm font-medium  dark:text-gray-400\",\n                        children: \"Destination\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 140,\n                        columnNumber: 17\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        options: this.state.data.cities,\n                        name: \"destination\",\n                        className: \"text-semibold text-cyan-800\",\n                        value: {\n                          label: this.state.dest,\n                          value: this.state.dest\n                        },\n                        onChange: this.handleCityDestChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 141,\n                        columnNumber: 17\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 139,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \" z-0 mb-6 w-full group datepicker relative  \",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"floatingInput\",\n                        class: \"block mb-2 text-sm font-medium  dark:text-gray-400\",\n                        children: \"Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 144,\n                        columnNumber: 17\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"date\",\n                        name: \"date\",\n                        min: new Date(this.state.date).toISOString().split('T')[0],\n                        value: new Date(this.state.date).toISOString().split('T')[0],\n                        onChange: this.handleCityDateChange,\n                        class: \"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-cyan-600 focus:outline-none\",\n                        placeholder: \"Select a date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"relative z-0 mb-6  w-full group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"floatingInput\",\n                        class: \"block mb-2 text-sm font-medium  dark:text-gray-400\",\n                        children: \"Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 151,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"date\",\n                        name: \"date\",\n                        min: new Date().toISOString().split('T')[0],\n                        class: \"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-cyan-600 focus:outline-none\",\n                        placeholder: \"Select a date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 152,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      class: \"mt-4 text-white bg-cyan-500 hover:bg-cyan-600 focus:ring-4 focus:outline-none focus:ring-cyan-500 font-semibold rounded-md text-lg w-full sm:w-full px-5 py-2.5 text-center dark:bg-cyan-600 dark:hover:bg-cyan-700 dark:focus:ring-cyan-800\",\n                      children: \"Join Now\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/MASHATE/Desktop/JS/React/frontend/src/pages/Driver/UpdateOffer.js"],"names":["React","Header","axios","Select","UpdateOffer","Component","constructor","componentDidMount","console","log","fetchOffer","method","url","state","id","headers","then","res","status","stateD","data","setState","offer","depart","ville_depart","dest","ville_arrivee","date","date_depart","handleUpdate","is_deleted","handleCityDepartChange","event","value","handleCityDestChange","handleCityDateChange","require","URLSearchParams","window","location","search","get","is_updated","render","cities","sort","a","b","fa","toLowerCase","fb","Date","toISOString","label","split"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Header from '../../Partials/Driver/Header'\r\nimport axios from 'axios'\r\nimport Select from 'react-select';\r\n\r\n\r\nexport default class UpdateOffer extends React.Component {\r\n\r\n      constructor(){\r\n        super()\r\n        this.state={\r\n            data: require(\"../../Data/cities.json\"),\r\n            id:new URLSearchParams(window.location.search).get('id'),\r\n            offer: {},\r\n            depart: \"\",\r\n            dest: \" \",\r\n            date: \" \",\r\n            is_updated: false\r\n        }\r\n      }\r\n      \r\n      componentDidMount =  ()=>{\r\n        console.log(\"khdem mal rassek 9asse7\")\r\n        this.fetchOffer()\r\n        }\r\n\r\n      fetchOffer =  () => {\r\n        axios({\r\n          method: \"GET\",\r\n          url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/annonces/\"+this.state.id,\r\n          headers: { \"Content-Type\": \"Application/json\"},\r\n            }).then((res) => {\r\n                  if(res.status===200){\r\n                    this.stateD=res.data\r\n                    this.setState({\r\n                        offer: res.data,\r\n                        depart: res.data.ville_depart,\r\n                        dest: res.data.ville_arrivee,\r\n                        date: res.data.date_depart,\r\n                      })\r\n                }});\r\n          \r\n\r\n      }\r\n\r\n        handleUpdate = async () => {\r\n            const res= await axios({\r\n                method: \"PUT\",\r\n                url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/annonces?mili=\",\r\n                data: {},\r\n                headers: { \"Content-Type\": \"Application/json\"},\r\n            })\r\n            if(res.status===200){\r\n                this.setState({\r\n                    is_deleted: true\r\n                })\r\n            }\r\n\r\n\r\n\r\n\r\n        }\r\n  \r\n        \r\n    handleCityDepartChange = (event) => {\r\n      \r\n      this.setState({\r\n        depart : event.value\r\n        \r\n      })\r\n    }\r\n    \r\n\r\n    handleCityDestChange = (event) => {\r\n      \r\n      this.setState({\r\n        dest : event.value\r\n        \r\n      })\r\n    }\r\n\r\n    handleCityDateChange = (event) => {\r\n      \r\n      this.setState({\r\n        date : event.value\r\n        \r\n      })\r\n    }\r\n\r\n\r\n  render(){\r\n    \r\n    this.state.data.cities.sort((a, b) => {\r\n      let fa = a.value.toLowerCase(),\r\n          fb = b.value.toLowerCase();\r\n\r\n      if (fa < fb) {\r\n          return -1;\r\n      }\r\n      if (fa > fb) {\r\n          return 1;\r\n      }\r\n      return 0;\r\n  })\r\n\r\n  console.log(new Date(this.state.date).toISOString())\r\n    return (\r\n      <div className=\"min-h-full\">\r\n          <Header />\r\n  \r\n  \r\n    <header className=\"bg-white shadow\">\r\n      <div className=\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900\">Update Offer</h1>\r\n      </div>\r\n    </header>\r\n\r\n    <div className=\"flex flex-col min-h-screen overflow-hidden container mx-auto px-6\">\r\n      \r\n    <div className=\"flex justify-center py-1 items-center text-center\">\r\n\r\n      </div>\r\n\r\n      {/*  Page content */}\r\n      <main className=\"flex-grow\">\r\n\r\n        <section className=\"bg-white\">\r\n          <div className=\"mx-auto px-4 sm:px-6\">\r\n            <div className=\"pt-8 pb-8 md:pt-4 md:pb-15 px-24\">\r\n\r\n              {/* Form */}\r\n              <div className='pt-6'>\r\n\r\n                <form className='grid grid-cols-1 sm:grid-cols-4 gap-6' action=\"#\"  method=\"GET\">\r\n                <div class=\"relative z-0 mb-6  w-full group\">\r\n                <label for=\"countries\" class=\"block mb-2 text-sm font-medium  dark:text-gray-400\">Start</label>\r\n                <Select  options={this.state.data.cities} name=\"depart\" className=\"text-semibold text-cyan-800\"   value={{ label: this.state.depart, value: this.state.depart }}  onChange={this.handleCityDepartChange} required/>\r\n                    </div>\r\n                <div class=\"relative z-0 mb-6 w-full group\">\r\n                <label for=\"countries\" class=\"block mb-2 text-sm font-medium  dark:text-gray-400\">Destination</label>\r\n                <Select options={this.state.data.cities} name=\"destination\" className=\"text-semibold text-cyan-800\"  value={{ label: this.state.dest, value: this.state.dest }}  onChange={this.handleCityDestChange}/>                      \r\n                  </div>\r\n                <div class=\" z-0 mb-6 w-full group datepicker relative  \">\r\n                <label for=\"floatingInput\" class=\"block mb-2 text-sm font-medium  dark:text-gray-400\">Date</label>\r\n                    <input type=\"date\" name='date' min={new Date(this.state.date).toISOString().split('T')[0]}  value={new Date(this.state.date).toISOString().split('T')[0]}  onChange={this.handleCityDateChange}\r\n                      class=\"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-cyan-600 focus:outline-none\"\r\n                      placeholder=\"Select a date\" />\r\n                    \r\n                  </div>\r\n                  <div class=\"relative z-0 mb-6  w-full group\">\r\n                  <label for=\"floatingInput\" class=\"block mb-2 text-sm font-medium  dark:text-gray-400\">Date</label>\r\n                    <input type=\"date\" name='date' min={new Date().toISOString().split('T')[0]}\r\n                      class=\"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-cyan-600 focus:outline-none\"\r\n                      placeholder=\"Select a date\" />\r\n                    </div>\r\n\r\n                \r\n                    <button type=\"submit\" class=\"mt-4 text-white bg-cyan-500 hover:bg-cyan-600 focus:ring-4 focus:outline-none focus:ring-cyan-500 font-semibold rounded-md text-lg w-full sm:w-full px-5 py-2.5 text-center dark:bg-cyan-600 dark:hover:bg-cyan-700 dark:focus:ring-cyan-800\">Join Now</button>\r\n                </form>\r\n\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n      </main>\r\n\r\n    </div>\r\n  \r\n    </div>\r\n    )\r\n\r\n  }\r\n  \r\n}\r\n"]},"metadata":{},"sourceType":"module"}