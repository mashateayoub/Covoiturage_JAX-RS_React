{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MASHATE\\\\Desktop\\\\JS\\\\React\\\\frontend\\\\src\\\\pages\\\\Driver\\\\AddOffer.js\";\nimport React from 'react';\nimport Header from '../../Partials/Driver/Header';\nimport axios from 'axios';\nimport Select from 'react-select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class AddOffer extends React.Component {\n  constructor() {\n    super();\n\n    this.handlePost = async () => {\n      if (this.state.depart !== \" \" && this.state.dest !== \" \" && this.state.date !== \" \" && this.state.nombre_places !== null && this.state.time !== null && this.state.prix !== null) {\n        axios({\n          method: \"POST\",\n          url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/annonces?mili=\" + this.state.time,\n          data: {\n            ville_depart: this.state.depart,\n            ville_arrivee: this.state.dest,\n            date_depart: this.state.date[0] + \"-\" + this.state.date[1] + \"-\" + (parseInt(this.state.date[2]) + 1),\n            nombre_places: this.state.nombre_places,\n            prix: this.state.prix,\n            con: sessionStorage.getItem(\"id_con\")\n          },\n          headers: {\n            \"Content-Type\": \"Application/json\"\n          }\n        }).then(res => {\n          if (res.status !== 200) {\n            alert(\"There was an error Adding this offer X( \");\n          } else {\n            this.setState({\n              is_added: true\n            });\n            alert(\"Offer added Successfully :) \");\n          }\n        });\n      } else {\n        alert(\"Enter  All Informations X( \");\n      }\n    };\n\n    this.handleCityDepartChange = event => {\n      this.setState({\n        depart: event.value\n      });\n    };\n\n    this.handleCityDestChange = event => {\n      this.setState({\n        dest: event.value\n      });\n    };\n\n    this.handleDateChange = event => {\n      this.setState({\n        date: event.target.value.split(\"-\")\n      });\n    };\n\n    this.handlePlacesChange = event => {\n      this.setState({\n        nombre_places: event.target.value\n      });\n    };\n\n    this.handlePrixChange = event => {\n      this.setState({\n        prix: event.target.value\n      });\n    };\n\n    this.handleTimeChange = event => {\n      let [h, mm] = event.target.value.split(\":\");\n      let time = new Date(1970, 1, 1, h, mm, 0).getTime();\n      console.log(time);\n      this.setState({\n        time: time\n      });\n    };\n\n    this.state = {\n      data: require(\"../../Data/cities.json\"),\n      depart: \"\",\n      dest: \" \",\n      date: [],\n      mindate: [],\n      nombre_places: 0,\n      prix: 0,\n      time: \"\",\n      HMS: [],\n      is_added: true\n    };\n  }\n\n  render() {\n    this.state.data.cities.sort((a, b) => {\n      let fa = a.value.toLowerCase(),\n          fb = b.value.toLowerCase();\n\n      if (fa < fb) {\n        return -1;\n      }\n\n      if (fa > fb) {\n        return 1;\n      }\n\n      return 0;\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-full\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"bg-white shadow\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-900\",\n            children: \"Add Offer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col min-h-full pb-60 overflow-hidden container mx-auto px-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center py-1 items-center text-center\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"flex-grow\",\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"bg-white\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mx-auto px-4 sm:px-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pt-8 pb-8 md:pt-4 md:pb-15 px-24\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pt-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"form\", {\n                    className: \"grid grid-cols-1 sm:grid-cols-3 gap-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \" z-0 mb-6 w-full group datepicker relative  \",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"floatingInput\",\n                        class: \"block mb-2 text-sm font-medium  dark:text-gray-400\",\n                        children: \"Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 164,\n                        columnNumber: 17\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"date\",\n                        name: \"date\",\n                        min: new Date().toISOString().split('T')[0],\n                        required: true,\n                        Value: this.state.date[0] + \"-\" + this.state.date[1] + \"-\" + (parseInt(this.state.date[2]) + 1),\n                        onChange: this.handleDateChange,\n                        class: \"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-cyan-600 focus:outline-none\",\n                        placeholder: \"Select a date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 165,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"relative z-0 mb-6  w-full group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"floatingInput\",\n                        class: \"block mb-2 text-sm font-medium  dark:text-gray-400\",\n                        children: \"Time\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 172,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"time\",\n                        name: \"nombre_places\",\n                        Value: this.state.HMS[0] + \":\" + this.state.HMS[1],\n                        required: true,\n                        onChange: this.handleTimeChange,\n                        class: \"block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-cyan-600 focus:outline-none\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 173,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"relative z-0 mb-6  w-full group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"floatingInput\",\n                        class: \"block mb-2 text-sm font-medium  dark:text-gray-400\",\n                        children: \"Price\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 178,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        name: \"prix\",\n                        Value: this.state.prix,\n                        required: true,\n                        onChange: this.handlePrixChange,\n                        class: \"block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-cyan-600 focus:outline-none\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 179,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"relative z-0 mb-6  w-full group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"countries\",\n                        class: \"block mb-2 text-sm font-medium  dark:text-gray-400\",\n                        children: \"Start\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 183,\n                        columnNumber: 21\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        options: this.state.data.cities,\n                        name: \"depart\",\n                        className: \"z-30 text-semibold text-cyan-800\",\n                        required: true,\n                        value: {\n                          label: this.state.depart,\n                          value: this.state.depart\n                        },\n                        onChange: this.handleCityDepartChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 184,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"relative z-0 mb-6 w-full group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"countries\",\n                        class: \"block mb-2 text-sm font-medium  dark:text-gray-400\",\n                        children: \"Destination\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 187,\n                        columnNumber: 21\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        options: this.state.data.cities,\n                        name: \"destination\",\n                        className: \"z-30 text-semibold text-cyan-800\",\n                        required: true,\n                        value: {\n                          label: this.state.dest,\n                          value: this.state.dest\n                        },\n                        onChange: this.handleCityDestChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 188,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"relative z-0 mb-6  w-full group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"floatingInput\",\n                        class: \"block mb-2 text-sm font-medium  dark:text-gray-400\",\n                        children: \"Seats number\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 192,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        name: \"nombre_places\",\n                        Value: this.state.nombre_places,\n                        required: true,\n                        onChange: this.handlePlacesChange,\n                        class: \"  block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-cyan-600 focus:outline-none\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 193,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 191,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      onClick: this.handlePost,\n                      href: this.state.is_added ? \"/driver/offers\" : \"#\",\n                      type: \"submit\",\n                      class: \"mt-4 text-white bg-cyan-500 hover:bg-cyan-600 focus:ring-4 focus:outline-none focus:ring-cyan-500 font-semibold rounded-md text-lg w-full sm:w-full px-5 py-2.5 text-center dark:bg-cyan-600 dark:hover:bg-cyan-700 dark:focus:ring-cyan-800\",\n                      children: \"Add offer\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/MASHATE/Desktop/JS/React/frontend/src/pages/Driver/AddOffer.js"],"names":["React","Header","axios","Select","AddOffer","Component","constructor","handlePost","state","depart","dest","date","nombre_places","time","prix","method","url","data","ville_depart","ville_arrivee","date_depart","parseInt","con","sessionStorage","getItem","headers","then","res","status","alert","setState","is_added","handleCityDepartChange","event","value","handleCityDestChange","handleDateChange","target","split","handlePlacesChange","handlePrixChange","handleTimeChange","h","mm","Date","getTime","console","log","require","mindate","HMS","render","cities","sort","a","b","fa","toLowerCase","fb","toISOString","label"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Header from '../../Partials/Driver/Header'\r\nimport axios from 'axios'\r\nimport Select from 'react-select';\r\n\r\n\r\nexport default class AddOffer extends React.Component {\r\n\r\n      constructor(){\r\n        super()\r\n        this.state={\r\n            data: require(\"../../Data/cities.json\"),\r\n            depart: \"\",\r\n            dest: \" \",\r\n            date: [],\r\n            mindate: [],\r\n            nombre_places: 0,\r\n            prix: 0,\r\n            time: \"\",\r\n            HMS:[],\r\n            is_added: true\r\n        }\r\n      }\r\n        handlePost = async () => {\r\n          if(this.state.depart!==\" \" && this.state.dest!==\" \" && this.state.date!==\" \" && this.state.nombre_places!==null && this.state.time!==null && this.state.prix!==null){\r\n            axios({\r\n              method: \"POST\",\r\n              url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/annonces?mili=\"+this.state.time,\r\n              data: {\r\n                ville_depart:this.state.depart ,\r\n                ville_arrivee:this.state.dest,\r\n                date_depart:this.state.date[0]+\"-\"+this.state.date[1]+\"-\"+(parseInt (this.state.date[2])+1),\r\n                nombre_places:this.state.nombre_places,\r\n                prix:this.state.prix,\r\n                con: sessionStorage.getItem(\"id_con\"),\r\n              },\r\n              headers: { \"Content-Type\": \"Application/json\"},\r\n          }).then((res) =>{\r\n            if(res.status!==200){\r\n              alert(\"There was an error Adding this offer X( \")\r\n            }\r\n            else{\r\n                this.setState({\r\n                  is_added: true\r\n                })\r\n                alert(\"Offer added Successfully :) \")\r\n              }\r\n          })}else{\r\n            alert(\"Enter  All Informations X( \")\r\n          }\r\n            \r\n\r\n\r\n\r\n\r\n        }\r\n  \r\n        \r\n    handleCityDepartChange = (event) => {\r\n      \r\n      this.setState({\r\n        depart : event.value\r\n        \r\n      })\r\n    }\r\n    \r\n\r\n    handleCityDestChange = (event) => {\r\n      \r\n      this.setState({\r\n        dest : event.value\r\n        \r\n      })\r\n    }\r\n\r\n    handleDateChange = (event) => {\r\n\r\n      this.setState({\r\n        date : event.target.value.split(\"-\")\r\n        \r\n      })\r\n    }\r\n\r\n\r\n    handlePlacesChange = (event) => {\r\n      \r\n      this.setState({\r\n        nombre_places : event.target.value\r\n        \r\n      })\r\n    }\r\n    \r\n    \r\n    handlePrixChange = (event) => {\r\n      \r\n      this.setState({\r\n        prix : event.target.value\r\n        \r\n      })\r\n    }\r\n\r\n    \r\n    handleTimeChange = (event) => {\r\n      let[h,mm] =event.target.value.split(\":\")\r\n      let time=new Date(1970,1,1,h,mm,0).getTime()\r\n      console.log(time)\r\n      this.setState({\r\n        time : time\r\n        \r\n      })\r\n\r\n\r\n\r\n\r\n    }\r\n    \r\n\r\n\r\n  render(){\r\n    \r\n    this.state.data.cities.sort((a, b) => {\r\n      let fa = a.value.toLowerCase(),\r\n          fb = b.value.toLowerCase();\r\n\r\n      if (fa < fb) {\r\n          return -1;\r\n      }\r\n      if (fa > fb) {\r\n          return 1;\r\n      }\r\n      return 0;\r\n  })\r\n\r\n    return (\r\n      <div className=\"min-h-full\">\r\n          <Header />\r\n  \r\n  \r\n    <header className=\"bg-white shadow\">\r\n      <div className=\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900\">Add Offer</h1>\r\n      </div>\r\n    </header>\r\n\r\n    <div className=\"flex flex-col min-h-full pb-60 overflow-hidden container mx-auto px-6\">\r\n      \r\n    <div className=\"flex justify-center py-1 items-center text-center\">\r\n\r\n      </div>\r\n\r\n      {/*  Page content */}\r\n      <main className=\"flex-grow\">\r\n\r\n        <section className=\"bg-white\">\r\n          <div className=\"mx-auto px-4 sm:px-6\">\r\n            <div className=\"pt-8 pb-8 md:pt-4 md:pb-15 px-24\">\r\n\r\n              {/* Form */}\r\n              <div className='pt-6'>\r\n\r\n                <form className='grid grid-cols-1 sm:grid-cols-3 gap-6' >\r\n                \r\n                <div class=\" z-0 mb-6 w-full group datepicker relative  \">\r\n                <label for=\"floatingInput\" class=\"block mb-2 text-sm font-medium  dark:text-gray-400\">Date</label>\r\n                    <input type=\"date\" name='date' min={new Date().toISOString().split('T')[0]} required  Value={this.state.date[0]+\"-\"+this.state.date[1]+\"-\"+(parseInt (this.state.date[2])+1)}   onChange={this.handleDateChange}\r\n                      class=\"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-cyan-600 focus:outline-none\"\r\n                      placeholder=\"Select a date\" />\r\n                    \r\n                  </div>\r\n                  \r\n                    <div class=\"relative z-0 mb-6  w-full group\">\r\n                  <label for=\"floatingInput\" class=\"block mb-2 text-sm font-medium  dark:text-gray-400\">Time</label>\r\n                    <input type=\"time\" name='nombre_places'  Value={this.state.HMS[0]+\":\"+this.state.HMS[1]}  required  onChange={this.handleTimeChange}\r\n                      class=\"block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-cyan-600 focus:outline-none\"/>\r\n                    </div>\r\n\r\n                    <div class=\"relative z-0 mb-6  w-full group\">\r\n                  <label for=\"floatingInput\" class=\"block mb-2 text-sm font-medium  dark:text-gray-400\">Price</label>\r\n                    <input type=\"number\" name='prix'  Value={this.state.prix}  required  onChange={this.handlePrixChange}\r\n                      class=\"block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-cyan-600 focus:outline-none\"/>\r\n                    </div>\r\n                    <div class=\"relative z-0 mb-6  w-full group\">\r\n                    <label for=\"countries\" class=\"block mb-2 text-sm font-medium  dark:text-gray-400\">Start</label>\r\n                    <Select  options={this.state.data.cities} name=\"depart\" className=\"z-30 text-semibold text-cyan-800\" required  value={{ label: this.state.depart, value: this.state.depart }}  onChange={this.handleCityDepartChange} />\r\n                        </div>\r\n                    <div class=\"relative z-0 mb-6 w-full group\">\r\n                    <label for=\"countries\" class=\"block mb-2 text-sm font-medium  dark:text-gray-400\">Destination</label>\r\n                    <Select options={this.state.data.cities} name=\"destination\" className=\"z-30 text-semibold text-cyan-800\" required value={{ label: this.state.dest, value: this.state.dest }}  onChange={this.handleCityDestChange}/>                      \r\n                      </div>\r\n\r\n                    <div class=\"relative z-0 mb-6  w-full group\">\r\n                  <label for=\"floatingInput\" class=\"block mb-2 text-sm font-medium  dark:text-gray-400\">Seats number</label>\r\n                    <input type=\"number\" name='nombre_places'  Value={this.state.nombre_places}  required  onChange={this.handlePlacesChange}\r\n                      class=\"  block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-cyan-600 focus:outline-none\"/>\r\n                    </div>\r\n\r\n                    <br />\r\n                    <div></div>\r\n\r\n                \r\n                    <a onClick={this.handlePost}  href={this.state.is_added ? \"/driver/offers\" : \"#\"} type='submit' class=\"mt-4 text-white bg-cyan-500 hover:bg-cyan-600 focus:ring-4 focus:outline-none focus:ring-cyan-500 font-semibold rounded-md text-lg w-full sm:w-full px-5 py-2.5 text-center dark:bg-cyan-600 dark:hover:bg-cyan-700 dark:focus:ring-cyan-800\">Add offer</a>\r\n                </form>\r\n\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n      </main>\r\n\r\n    </div>\r\n  \r\n    </div>\r\n    )\r\n\r\n  }\r\n  \r\n}\r\n"]},"metadata":{},"sourceType":"module"}