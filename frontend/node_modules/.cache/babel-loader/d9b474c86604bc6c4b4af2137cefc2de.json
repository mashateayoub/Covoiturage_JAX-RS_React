{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MASHATE\\\\Desktop\\\\JS\\\\React\\\\frontend\\\\src\\\\pages\\\\Driver\\\\CheckLogin.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class AccountDriverPage extends React.Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      this.postUser();\n    };\n\n    this.postUser = async () => {\n      const res = await axios({\n        method: \"GET\",\n        url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/users/\" + this.state.login,\n        headers: {\n          \"Content-Type\": \"Application/json\"\n        }\n      });\n\n      if (res.status === 200 && !res.data.id.localeCompare(0)) {\n        localStorage.setItem(\"driversignupcheckerror\", \"yes\");\n      } else {\n        const res2 = await axios({\n          method: \"GET\",\n          url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/clients/login=\" + this.state.login,\n          headers: {\n            \"Content-Type\": \"Application/json\"\n          }\n        });\n\n        if (res2.status === 200 && res2.data.user.password === this.state.password) {\n          localStorage.setItem(\"driversignupcheckerror\", \"no\");\n          this.setState({\n            driver: res2.data\n          });\n          localStorage.setItem(\"DriverID\", \"@\" + this.state.login + \"@\" + this.state.password + \"@\" + res2.data.id);\n        } else {\n          localStorage.setItem(\"driversignupcheckerror\", \"yes\");\n        }\n      }\n    };\n\n    this.state = {\n      \"login\": localStorage.getItem(\"userID\").split('@')[1],\n      \"password\": localStorage.getItem(\"userID\").split('@')[2],\n      \"driver\": {},\n      \"is_logged\": false\n    };\n  }\n\n  render() {\n    if (this.state.is_logged) return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col justify-center text-center place-items-center h-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-3xl font-semibold font-serif \",\n        children: \"Logged in successfully \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 133\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/driver\",\n        className: \"mt-4 rounded text-semibold hover:drop-shadow-lg hover:shadow-cyan-500 px-4 py-2 bg-cyan-500 text-white\",\n        children: \"Access Driver's Platforme\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 211\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 47\n    }, this);else return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col justify-center text-center place-items-center h-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl text-red-600 font-semibold font-serif \",\n        children: \"Error in Logging to your driver account, try again please !\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 111\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/driver/signup\",\n        className: \"mt-4 rounded text-semibold hover:drop-shadow-lg hover:shadow-red-500 px-4 py-2 bg-red-500 text-white\",\n        children: \"Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 236\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/MASHATE/Desktop/JS/React/frontend/src/pages/Driver/CheckLogin.js"],"names":["React","Link","axios","AccountDriverPage","Component","constructor","componentDidMount","postUser","res","method","url","state","login","headers","status","data","id","localeCompare","localStorage","setItem","res2","user","password","setState","driver","getItem","split","render","is_logged"],"mappings":"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","sourcesContent":["import React  from 'react'\r\nimport {  Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nexport default class AccountDriverPage extends React.Component {\r\n\r\n    constructor(){\r\n      super()\r\n      this.state={\r\n        \"login\":localStorage.getItem(\"userID\").split('@')[1],\r\n        \"password\": localStorage.getItem(\"userID\").split('@')[2],\r\n        \"driver\":{},\r\n        \"is_logged\":false\r\n      }\r\n    }\r\n\r\n\r\n      componentDidMount = () => {\r\n\r\n        this.postUser()\r\n        \r\n      }\r\n\r\n    postUser = async () => {\r\n      const res= await axios({\r\n        method: \"GET\",\r\n        url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/users/\"+this.state.login,\r\n        headers: { \"Content-Type\": \"Application/json\"},\r\n    })\r\n\r\n      if(res.status===200 && !res.data.id.localeCompare(0)){localStorage.setItem(\"driversignupcheckerror\", \"yes\")}\r\n      else{\r\n            const res2= await axios({\r\n              method: \"GET\",\r\n              url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/clients/login=\"+this.state.login,\r\n              headers: { \"Content-Type\": \"Application/json\"},\r\n          })\r\n          if(res2.status===200 && res2.data.user.password===this.state.password){\r\n            localStorage.setItem(\"driversignupcheckerror\", \"no\")\r\n            this.setState({\r\n              driver: res2.data\r\n            })\r\n            localStorage.setItem(\"DriverID\",\"@\"+this.state.login+\"@\"+this.state.password+\"@\"+res2.data.id)\r\n            }\r\n          else{\r\n               localStorage.setItem(\"driversignupcheckerror\", \"yes\")\r\n              }\r\n        }\r\n        }\r\n\r\n    \r\n    render(){\r\n        \r\n            if(this.state.is_logged ) return (<div className='flex flex-col justify-center text-center place-items-center h-screen'><p className='text-3xl font-semibold font-serif '>Logged in successfully </p> <Link to=\"/driver\" className='mt-4 rounded text-semibold hover:drop-shadow-lg hover:shadow-cyan-500 px-4 py-2 bg-cyan-500 text-white'>Access Driver's Platforme</Link></div> );\r\n            else return(<div className='flex flex-col justify-center text-center place-items-center h-screen'><p className='text-xl text-red-600 font-semibold font-serif '>Error in Logging to your driver account, try again please !</p><Link to=\"/driver/signup\" className='mt-4 rounded text-semibold hover:drop-shadow-lg hover:shadow-red-500 px-4 py-2 bg-red-500 text-white'>Go Back</Link></div>);\r\n            \r\n       \r\n    }\r\n    \r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}