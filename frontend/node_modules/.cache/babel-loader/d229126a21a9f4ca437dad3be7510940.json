{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MASHATE\\\\Desktop\\\\JS\\\\React\\\\frontend\\\\src\\\\pages\\\\Driver\\\\Reservations.js\";\nimport React from \"react\";\nimport Header from '../../Partials/Driver/Header';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Reservations extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.fetchRes();\n    };\n\n    this.fetchRes = () => {\n      axios({\n        method: \"GET\",\n        url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/reservations/\",\n        headers: {\n          \"Content-Type\": \"Application/json\"\n        }\n      }).then(res => {\n        if (res.status === 200) {\n          axios({\n            method: \"GET\",\n            url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/annonces/\",\n            headers: {\n              \"Content-Type\": \"Application/json\"\n            }\n          }).then(res2 => {\n            if (res2.status === 200) {\n              let liste = [];\n\n              for (let offer in res2.data) {\n                if (res2.data[offer].con === parseInt(this.state.con)) {\n                  liste.push(res2.data[offer].id_annonces);\n                }\n              }\n\n              let lst = [];\n\n              for (let reserv in res.data) {\n                if (res.data[reserv].id_annonces in liste) {\n                  lst.push(res.data[reserv]);\n                }\n              }\n            }\n          });\n        }\n      });\n    };\n\n    this.state = {\n      data: [],\n      con: sessionStorage.getItem(\"id_con\")\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-full\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"bg-white shadow\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-gray-900\",\n            children: \"Reservations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Reservations;","map":{"version":3,"sources":["C:/Users/MASHATE/Desktop/JS/React/frontend/src/pages/Driver/Reservations.js"],"names":["React","Header","axios","Reservations","Component","constructor","props","componentDidMount","fetchRes","method","url","headers","then","res","status","res2","liste","offer","data","con","parseInt","state","push","id_annonces","lst","reserv","sessionStorage","getItem","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAKA,MAAMC,YAAN,SAA2BH,KAAK,CAACI,SAAjC,CAA2C;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAQnBC,iBARmB,GAQD,MAAI;AAClB,WAAKC,QAAL;AACH,KAVkB;;AAAA,SAWnBA,QAXmB,GAWR,MAAM;AAEbN,MAAAA,KAAK,CAAC;AACFO,QAAAA,MAAM,EAAE,KADN;AAEFC,QAAAA,GAAG,EAAE,wDAFH;AAGFC,QAAAA,OAAO,EAAE;AAAE,0BAAgB;AAAlB;AAHP,OAAD,CAAL,CAIGC,IAJH,CAISC,GAAD,IAAO;AACX,YAAGA,GAAG,CAACC,MAAJ,KAAa,GAAhB,EAAoB;AAChBZ,UAAAA,KAAK,CAAC;AACFO,YAAAA,MAAM,EAAE,KADN;AAEFC,YAAAA,GAAG,EAAE,oDAFH;AAGFC,YAAAA,OAAO,EAAE;AAAE,8BAAgB;AAAlB;AAHP,WAAD,CAAL,CAIGC,IAJH,CAISG,IAAD,IAAQ;AACZ,gBAAGA,IAAI,CAACD,MAAL,KAAc,GAAjB,EAAqB;AACjB,kBAAIE,KAAK,GAAC,EAAV;;AACA,mBAAK,IAAIC,KAAT,IAAkBF,IAAI,CAACG,IAAvB,EAA4B;AACxB,oBAAGH,IAAI,CAACG,IAAL,CAAUD,KAAV,EAAiBE,GAAjB,KAAuBC,QAAQ,CAAC,KAAKC,KAAL,CAAWF,GAAZ,CAAlC,EAAmD;AAC/CH,kBAAAA,KAAK,CAACM,IAAN,CAAWP,IAAI,CAACG,IAAL,CAAUD,KAAV,EAAiBM,WAA5B;AACH;AACJ;;AACD,kBAAIC,GAAG,GAAC,EAAR;;AACA,mBAAK,IAAIC,MAAT,IAAmBZ,GAAG,CAACK,IAAvB,EAA4B;AACxB,oBAAGL,GAAG,CAACK,IAAJ,CAASO,MAAT,EAAiBF,WAAjB,IAAgCP,KAAnC,EAAyC;AACrCQ,kBAAAA,GAAG,CAACF,IAAJ,CAAST,GAAG,CAACK,IAAJ,CAASO,MAAT,CAAT;AACH;AAER;AACJ;AACJ,WApBG;AAsBC;AACJ,OA7BL;AA+BD,KA5CgB;;AAEf,SAAKJ,KAAL,GAAW;AACPH,MAAAA,IAAI,EAAC,EADE;AAEPC,MAAAA,GAAG,EAAEO,cAAc,CAACC,OAAf,CAAuB,QAAvB;AAFE,KAAX;AAIH;;AAyCDC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,8BACA,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADA,eAEA;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAA,+BACA;AAAK,UAAA,SAAS,EAAC,6CAAf;AAAA,iCACI;AAAI,YAAA,SAAS,EAAC,kCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cAFA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAYH;;AA7DsC;;AAgE3C,eAAezB,YAAf","sourcesContent":["import React from \"react\";\r\nimport Header from '../../Partials/Driver/Header'\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\n\r\nclass Reservations extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            data:[],\r\n            con: sessionStorage.getItem(\"id_con\"),\r\n        }\r\n    }\r\n\r\n    componentDidMount=()=>{\r\n        this.fetchRes()\r\n    }\r\n    fetchRes = () => {\r\n\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/reservations/\",\r\n            headers: { \"Content-Type\": \"Application/json\"},\r\n        }).then((res)=>{\r\n            if(res.status===200){\r\n                axios({\r\n                    method: \"GET\",\r\n                    url: \"http://127.0.0.1:8080/EJB-Client/APIv1.0/annonces/\",\r\n                    headers: { \"Content-Type\": \"Application/json\"},\r\n                }).then((res2)=>{\r\n                    if(res2.status===200){\r\n                        let liste=[]\r\n                        for (let offer in res2.data){\r\n                            if(res2.data[offer].con===parseInt(this.state.con)){\r\n                                liste.push(res2.data[offer].id_annonces)\r\n                            }\r\n                        }        \r\n                        let lst=[]\r\n                        for (let reserv in res.data){\r\n                            if(res.data[reserv].id_annonces in liste){\r\n                                lst.push(res.data[reserv])\r\n                            }\r\n\r\n                    }\r\n                }\r\n            })\r\n                \r\n                }\r\n            })\r\n\r\n      }\r\n    \r\n    \r\n    render() { \r\n        return ( \r\n            <div className=\"min-h-full\">\r\n            <Header />\r\n            <header className=\"bg-white shadow\">\r\n            <div className=\"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8\">\r\n                <h1 className=\"text-3xl font-bold text-gray-900\">Reservations</h1>\r\n            </div>\r\n            </header>\r\n\r\n\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Reservations;"]},"metadata":{},"sourceType":"module"}